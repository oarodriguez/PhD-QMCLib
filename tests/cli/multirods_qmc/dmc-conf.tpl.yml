#  Metadata of the calculation.
name: DMC Simulation for the Bloch-Phonon model.
description: str
author: M.Sc. Omar Abel Rodríguez-López
institution: PCF, IFUNAM, UNAM
author_email: oarodriguez@estudiantes.fisica.unam.mx
category: Quantum Many-Body Systems
tags:
  - qmc
  - dmc
  - multi-rods

# Main Diffusion Monte Carlo procedure
main:

  #  type: SIMPLE_BRANCHING_BASIC
  proc:

    # The model spec.
    model_spec:
      lattice_depth: 24
      lattice_ratio: 1
      interaction_strength: 1.0
      boson_number: 16
      supercell_size: 16
      tbf_contact_cutoff: 4

    time_step: 1e-3
    num_batches: 32
    num_time_steps_batch: 512
    burn_in_batches: null
    max_num_walkers: 512
    target_num_walkers: 480

    # Static structure factor spec.
    ssf_spec:
      num_modes: 256
      as_pure_est: true

  #
  input:
    type: MODEL_SYS_CONF
    dist_type: RANDOM

  #
  output:
    type: HDF5_FILE
    location: /path/to/output/file.h5
    group: dmc-proc

  proc_id: 101
  tag_input: False
  tag_output: True

#
main_post_exec:
  #
  - proc:
      time_step: 0.5e-2
      num_batches: 1024
      num_time_steps_batch: 512

    output:
      type: HDF5_FILE
      location: /path/to/output/file.h5
      group: dmc-proc-extra

    proc_id: 6774862

  #
  - proc:
      time_step: 1e-3
      num_batches: 512
      num_time_steps_batch: 512

